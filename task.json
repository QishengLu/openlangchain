{
  "task_description": "**Mission Context:**\nYou are investigating a system failure in namespace `ts0`.\n**Abnormal Period (Fault Injection):** '2025-07-23 14:10:23' to '2025-07-23 14:14:23' UTC\n**Normal Period (Baseline):** '2025-07-23 14:06:23' to '2025-07-23 14:10:23' UTC\n\n**Objective:**\nAnalyze the span metrics, trace data, and logs in the current directory to identify the **Root Cause Service**.\n\n**Analysis Workflow:**\n\nStep 1: Discover and Understand Data\n- Use `list_tables_in_directory` to find available parquet files.\n- Use `get_schema` on key files (logs, traces, metrics) to understand columns.\n- *Note: Do this once. Do not repeat.*\n\nStep 2: High-Level Problem Overview\n- Query `conclusion.parquet` (if available) or summarize the general error patterns.\n- Identify the initial symptoms (e.g., which service is reporting errors?).\n\nStep 3: Analyze Anomalous Data (Focus on Abnormal Period)\n- Extract errors and high latency events specifically within the **Abnormal Period**.\n- **Query Example:**\n  ```sql\n  SELECT service_name, level, COUNT(*) as count \n  FROM abnormal_logs \n  WHERE time >= TIMESTAMP '2025-07-23 14:10:23' \n    AND time <= TIMESTAMP '2025-07-23 14:14:23'\n  GROUP BY service_name, level \n  ORDER BY count DESC \n  LIMIT 50\n  ```\n\nStep 4: Compare with Normal Data (Focus on Normal Period)\n- Establish a baseline by querying the **Normal Period**.\n- Compare error counts and latency distributions.\n- **Query Example:**\n  ```sql\n  SELECT service_name, level, COUNT(*) as error_count \n  FROM normal_logs \n  WHERE level = 'ERROR' \n    AND time >= TIMESTAMP '2025-07-23 14:06:23' \n    AND time < TIMESTAMP '2025-07-23 14:10:23'\n  GROUP BY service_name, level \n  ORDER BY error_count DESC \n  LIMIT 20\n  ```\n\nStep 5: Deep Dive & Root Cause Identification\n- Drill down into the service with the highest error increase or latency spike.\n- Trace the error propagation: Is the error internal, or coming from a downstream service?\n- Use `trace_id` to correlate logs and traces if needed.\n- **Iterate your queries** until you isolate the origin of the fault.\n\n**Final Answer Requirements:**\nYou MUST provide the final answer in the following exact format:\nRoot cause service: [service-name]\n\nFor example:\nRoot cause service: ts-food-service\n"
}
